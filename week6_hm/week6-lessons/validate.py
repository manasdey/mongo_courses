import base64

# please don't decode this program. It's a violation of the honor code.
code="CmltcG9ydCBweW1vbmdvCmltcG9ydCByYW5kb20KaW1wb3J0IHJlCmltcG9ydCBzdHJpbmcKaW1wb3J0IHN5cwppbXBvcnQgZ2V0b3B0CmltcG9ydCBwcHJpbnQKCiMgQ29weXJpZ2h0IDIwMTIKIyAxMGdlbiwgSW5jLgojIEF1dGhvcjogQW5kcmV3IEVybGljaHNvbiAgIGFqZUAxMGdlbi5jb20KIwojIElmIHlvdSBhcmUgYSBzdHVkZW50IGFuZCByZWFkaW5nIHRoaXMgY29kZSwgdHVybiBiYWNrIG5vdywgYmVmb3JlCiMgdGhlIE1vbmdvREIgZ29kcyBzbWl0ZSB5b3UuCgpjb25uZWN0aW9uID0gTm9uZQpkYiA9IE5vbmUKbW9uZ29zdHIgPSAibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNyIKZGJfbmFtZSA9ICJhZG1pbiIKcnNfbmFtZSA9ICJtMTAxIgoKIyB0aGlzIHNjcmlwdCB3aWxsIGNoZWNrIHRoYXQgYSByZXBsaWNhIHNldCB3aXRoIHRocmVlIG5vZGVzIGlzIHJ1bm5pbmcgb24gYSBob3N0CgojIGNvbW1hbmQgbGluZSBhcmcgcGFyc2luZyB0byBtYWtlIGZvbGtzIGhhcHB5IHdobyB3YW50IHRvIHJ1biBhdCBtb25nb2xhYnMgb3IgbW9uZ29ocQojIHRoaXMgZnVuY3Rpb25zIHVzZXMgZ2xvYmFsIHZhcnMgdG8gY29tbXVuaWNhdGUuIGZvcmdpdmUgbWUuCmRlZiBhcmdfcGFyc2luZyhhcmd2KToKCiAgICBnbG9iYWwgd2ViaG9zdAogICAgZ2xvYmFsIG1vbmdvc3RyCiAgICBnbG9iYWwgZGJfbmFtZQoKICAgIHRyeToKICAgICAgICBvcHRzLCBhcmdzID0gZ2V0b3B0LmdldG9wdChhcmd2LCAiLXA6LW06LWQ6IikKICAgIGV4Y2VwdCBnZXRvcHQuR2V0b3B0RXJyb3I6CiAgICAgICAgcHJpbnQgInVzYWdlIHZhbGlkYXRlLnB5IC1tIG1vbmdvQ29ubmVjdFN0cmluZyIKICAgICAgICBwcmludCAiXHRtb25nb0Nvbm5lY3Rpb25TdHJpbmcgZGVmYXVsdCB0byB7MH0iLmZvcm1hdChtb25nb3N0cikKICAgICAgICBwcmludCAiXHRkYXRhYmFzZU5hbWUgZGVmYXVsdHMgdG8gezB9Ii5mb3JtYXQoZGJfbmFtZSkKICAgICAgICBncmFjZWZ1bF9leGl0KDIpCiAgICBmb3Igb3B0LCBhcmcgaW4gb3B0czoKICAgICAgICBpZiAob3B0ID09ICctaCcpOgogICAgICAgICAgICBwcmludCAidXNhZ2UgdmFsaWRhdGUucHkgLW0gbW9uZ29Db25uZWN0U3RyaW5nIC1kIGRhdGFiYXNlTmFtZSIKICAgICAgICAgICAgZ3JhY2VmdWxfZXhpdCgyKQogICAgICAgIGVsaWYgb3B0IGluICgiLW0iKToKICAgICAgICAgICAgbW9uZ29zdHIgPSBhcmcKICAgICAgICAgICAgcHJpbnQgIk92ZXJyaWRpbmcgTW9uZ29EQiBjb25uZWN0aW9uIHN0cmluZyB0byBiZSAiLCBtb25nb3N0cgogICAgICAgIGVsaWYgb3B0IGluICgiLWQiKToKICAgICAgICAgICAgZGJfbmFtZSA9IGFyZwogICAgICAgICAgICBwcmludCAiT3ZlcnJpZGluZyBNb25nb0RCIGRhdGFiYXNlIHRvIGJlICIsIGRiX25hbWUKCiMgZ2V0cyB0aGUgcmVwbGljYSBzZXQgc3RhdHVzCmRlZiBnZXRfcnNfc3RhdHVzKCk6CiAgICBkYiA9IGNvbm5lY3Rpb24uYWRtaW4KICAgIHJzID0gZGIuY29tbWFuZCgicmVwbFNldEdldFN0YXR1cyIpCiAgICByZXR1cm4gcnMKCiMgZ2V0cyB0aGUgcmVwbGljYSBzdGF0ZSBjb25maWcKZGVmIGdldF9yc19jb25maWd1cmF0aW9uKCk6CiAgICBkYiA9IGNvbm5lY3Rpb24ubG9jYWwKICAgIGNvbGwgPSBkYi5zeXN0ZW0ucmVwbHNldAogICAgcmV0dXJuIGNvbGwuZmluZF9vbmUoKQoKZGVmIHJlcGxfc2V0X3J1bm5pbmcobnVtX25vZGVzKToKCiAgICB0cnk6CiAgICAgICAgcnMgPSBnZXRfcnNfc3RhdHVzKCkKICAgICAgICBjb25mID0gZ2V0X3JzX2NvbmZpZ3VyYXRpb24oKQogICAgICAgIGhvc3RzICA9IGNvbm5lY3Rpb24uaG9zdHMKICAgIGV4Y2VwdDoKICAgICAgICBwcmludCAiY2FuJ3QgcXVlcnkgTW9uZ29EQi4uaXMgaXQgcnVubmluZz8iCiAgICAgICAgcmFpc2UKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBpZiAocnNbJ29rJ10gIT0gMSk6CiAgICAgICAgcHJpbnQgIlNvcnJ5LCBvayBpcyBub3QgMSBmb3IgcnMuc3RhdHVzKCkiCiAgICAgICAgcHJpbnQgIkhlcmUgaXMgd2hhdCBJIGdldDoiCiAgICAgICAgcHAgPSBwcHJpbnQuUHJldHR5UHJpbnRlcihkZXB0aD02KQogICAgICAgIHBwLnBwcmludChycykKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBpZiAobGVuKHJzWydtZW1iZXJzJ10pICE9IG51bV9ub2Rlcyk6CiAgICAgICAgcHJpbnQgIlNvcnJ5LCB0aGVyZSBuZWVkIHRvIGJlIHRocmVlIG1lbWJlcnMgb2YgdGhlIHJlcGxpY2Egc2V0LiIKICAgICAgICBwcmludCAiaGVyZSBpcyB0aGUgbWVuYmVycyBhcnJheSBJIHNlZSIKCiAgICAgICAgcHAgPSBwcHJpbnQuUHJldHR5UHJpbnRlcihkZXB0aD02KQogICAgICAgIHBwLnBwcmludChyc1snbWVtYmVycyddKQogICAgICAgIHJldHVybiBGYWxzZQogICAgCiAgICBwcmludCAiTG9va3MgZ29vZC4gUmVwbGljYSBzZXQgd2l0aCB0aHJlZSBub2RlcyBydW5uaW5nIgogICAgcmV0dXJuIFRydWUKCmRlZiBncmFjZWZ1bF9leGl0KGkpOgogICAgY29ubmVjdGlvbi5jbG9zZSgpCiAgICBzeXMuZXhpdChpKQoKIyBtYWluIHNlY3Rpb24gb2YgdGhlIGNvZGUKZGVmIG1haW4oYXJndik6CiAgICAgICAgICAgIAogICAgYXJnX3BhcnNpbmcoYXJndikKICAgIGdsb2JhbCBjb25uZWN0aW9uCiAgICBnbG9iYWwgZGIKCiAgICBwcmludCAiV2VsY29tZSB0byB0aGUgSFcgNi54IHJlcGxpY2EgQ2hlY2tlci4gTXkgam9iIGlzIHRvIG1ha2Ugc3VyZSB5b3Ugc3RhcnRlZCBhIHJlcGxpY2Egc2V0IHdpdGggdGhyZWUgbm9kZXMiCgogICAgIyBjb25uZWN0IHRvIHRoZSBkYiAobW9uZ29zdHIgd2FzIHNldCBpbiBhcmdfcGFyc2luZykKICAgIHRyeToKICAgICAgICBjb25uZWN0aW9uID0gcHltb25nby5SZXBsaWNhU2V0Q29ubmVjdGlvbihtb25nb3N0ciwgcmVwbGljYVNldD1yc19uYW1lLCBzYWZlPVRydWUpCiAgICAgICAgZGIgPSBjb25uZWN0aW9uW2RiX25hbWVdCiAgICBleGNlcHQ6CiAgICAgICAgcHJpbnQgImNhbid0IGNvbm5lY3QgdG8gTW9uZ29EQiByZXBsaWNhIixyc19uYW1lLCIgc2V0IHVzaW5nIiwgbW9uZ29zdHIsICIuIElzIGl0IHJ1bm5pbmc/IgogICAgICAgIGV4aXQoMikgICAgICMgbm8gZ3JhY2VmdWwgZXhpdCBpZiBpdCBpcyBub3QgY29ubmVjdGVkCiAgICAgICAgCiAgICBpZiAobm90IHJlcGxfc2V0X3J1bm5pbmcoMykpOgogICAgICAgIHByaW50ICJTb3JyeSwgdGhlIHJlcGxpY2Egc2V0IGRvZXMgbm90IHNlZW0gdG8gYmUgcnVubmluZyIKICAgICAgICBncmFjZWZ1bF9leGl0KDEpCiAgICAKICAgICMgaWYgeW91IGFyZSByZWFkaW5nIHRoaXMgaW4gY2xlYXJ0ZXh0LCB5b3UgYXJlIHZpb2xhdGluZyB0aGUgaG9ub3IgY29kZS4KICAgICMgWW91IGNhbiBzdGlsbCByZWRlZW0geW91cnNlbGYuIEdldCBpdCB3b3JraW5nIGFuZCBkb24ndCBzdWJtaXQgdGhlIHZhbGlkYXRpb24gY29kZSB1bnRpbCB5b3UgZG8uCiAgICAjIEFsbCBhIG1hbiBoYXMgYXQgdGhlIGVuZCBvZiB0aGUgZGF5IGlzIGhpcyB3b3JkLgogICAgcHJpbnQgIlRlc3RzIFBhc3NlZCBmb3IgSFcgNC4zLiBZb3VyIEhXIDQuMyB2YWxpZGF0aW9uIGNvZGUgaXMgQ29uZ3JhdHNZb3VSb2NrMjAxMiIKICAgIGdyYWNlZnVsX2V4aXQoMCkKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKHN5cy5hcmd2WzE6XSkKCgoKCgoKCg=="
eval(compile(base64.b64decode(code), "<string>", 'exec'))




